"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[488],{4488:(t,e,s)=>{s.r(e),s.d(e,{default:()=>y});var o=s(5043),r=s(2166),a=s(3216),i=s(7048),l=s(5977),n=s(5963),d=s(3842),u=s(6545),c=s(6097);const p="MyPosts_MyPosts__8CHeK",h="MyPosts_addPost__vrj7C",x="Post_Post__SCj4T";var f=s(579);const j=t=>(0,f.jsxs)("div",{className:x,children:[(0,f.jsx)("p",{children:t.message}),(0,f.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTnGWEwXpRS7z7rVaGrjIWWTdE8_TiYTGiYjA&s",alt:"IMG"}),(0,f.jsxs)("p",{children:["Like ",t.likesCount]}),(0,f.jsx)("button",{onClick:()=>t.deletePost(t.id),children:"Delete this post"})]}),m=t=>{const e=e=>{t.deletePost(e)};let s=t.posts.map((t=>(0,f.jsx)(j,{deletePost:e,id:t.id,message:t.message,likesCount:t.likesCount},t.id)));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:h,children:(0,f.jsx)(P,{onSubmit:e=>{e.newPostText&&t.addPost(e.newPostText)}})}),(0,f.jsx)("div",{className:p,children:s})]})},P=(0,d.A)({form:"ProfileAddNewPostForm"})((t=>(0,f.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.jsx)(n.A,{placeholder:"Post message",component:c.TM,name:"newPostText",validate:[u.mw,u.C_]}),(0,f.jsx)("button",{children:"Add Post"})]}))),g=o.memo(m);const _=(0,r.Ng)((t=>({posts:t.profilePage.posts,newPostText:t.profilePage.newPostText})),(t=>({addPost:e=>{t((0,l._N)(e))},deletePost:e=>{t((0,l.Sm)(e))}})))(g),v={};var S=s(2794);const b="ProfileInfo_Profile__ySV0h",C="ProfileInfo_ProfileInfo__Z8dFK",T="ProfileStatus_ProfileStatus__9f4bE",k=t=>{const[e,s]=(0,o.useState)(!1),[r,a]=(0,o.useState)(t.status);(0,o.useEffect)((()=>{a(t.status)}),[t.status]);return(0,f.jsx)("div",{className:T,children:e?(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:()=>{s(!1),t.updateStatus(r)},onChange:t=>{a(t.currentTarget.value)},value:r})}):(0,f.jsx)("div",{children:(0,f.jsx)("p",{onDoubleClick:()=>{s(!0)},children:t.status||"No status"})})})},N=t=>t.profile?(0,f.jsxs)("div",{className:b,children:[(0,f.jsx)("img",{src:t.profile.photos.large,alt:"IMG"}),(0,f.jsxs)("div",{className:C,children:[(0,f.jsx)(k,{aboutMe:t.profile.aboutMe,status:t.status,updateStatus:t.updateStatus}),(0,f.jsx)("h5",{children:"Contacts: "}),(0,f.jsx)("p",{children:"facebook: "+t.profile.contacts.facebook}),(0,f.jsx)("p",{children:"vk: "+t.profile.contacts.vk}),(0,f.jsx)("p",{children:"twitter: "+t.profile.contacts.twitter}),(0,f.jsx)("p",{children:"instagram: "+t.profile.contacts.instagram}),(0,f.jsx)("p",{children:"youtube: "+t.profile.contacts.youtube}),(0,f.jsx)("p",{children:"github: "+t.profile.contacts.github})]})]}):(0,f.jsx)(S.A,{}),w=t=>(0,f.jsxs)("div",{className:v.Profile,children:[(0,f.jsx)(N,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,f.jsx)(_,{})]}),y=(0,i.Zz)((0,r.Ng)((t=>({profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth})),{setUserProfile:l.p,getStatus:l.BS,updateStatus:l.yB}))((t=>{let{setUserProfile:e,getStatus:s,profile:r,status:i,updateStatus:l,authorizedUserId:n,isAuth:d}=t,{userId:u}=(0,a.g)();return u=u||n,(0,o.useEffect)((()=>{u&&(e(u),s(u))}),[u,e,s]),d||u?(0,f.jsx)("div",{children:(0,f.jsx)(w,{profile:r,status:i,updateStatus:l})}):(0,f.jsx)(a.C5,{to:"/login"})}))},6097:(t,e,s)=>{s.d(e,{pd:()=>d,TM:()=>n,Fv:()=>u});var o=s(5963);const r="createFormsControls_Textarea__IlAFW",a="createFormsControls_error__CVMTv";var i=s(579);const l=t=>e=>{let{input:s,meta:{touched:o,error:l},...n}=e;const d=o&&l;return(0,i.jsxs)("div",{className:r+" "+(d&&a),children:[(0,i.jsx)(t,{...s,...n}),d&&(0,i.jsx)("span",{children:l})]})},n=l("textarea"),d=l("input"),u=function(t,e,s,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return(0,i.jsxs)("div",{children:[(0,i.jsx)(o.A,{validate:s,placeholder:t,name:e,component:r,...a}),l]})}},6545:(t,e,s)=>{s.d(e,{C_:()=>a,mw:()=>o,yC:()=>i});const o=t=>{if(!t)return"Field is required"},r=t=>e=>{if(e&&e.length>t)return"Max length is ".concat(t," symbols")},a=r(10),i=r(100)}}]);
//# sourceMappingURL=488.36458e55.chunk.js.map